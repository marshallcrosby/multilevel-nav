var mlnCurrent=1;function mlnViewport(){var n=window,e="inner";return"innerWidth"in window||(e="client",n=document.documentElement||document.body),{width:n[e+"Width"],height:n[e+"Height"]}}!function(n){"use strict";n(document);var e=n("body"),l=n(window),t=l.width();l.resize(function(){var e=l.width();t!==e&&(this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){n(this).trigger(n.Event("mlnResizeEnd"))},150)),t=e}),n.fn.multilevelNav=function(t){n(this).each(function(){var a,i=n(this),s=n(".mln__list",i),o=n(".mln__expander",i),h=i.attr("data-mln-breakpoint"),d=!1,r="transitionend";function c(l,t,s){var o,h,d,c=l.closest(".mln__has-child"),_=c.find(".mln__toggle-btn, .mln__toggle-link").first(),m=c.find("> .mln__child__collapse").first();"show"===t?(h="true",d="false"):"hide"!==t&&void 0!==t||(h="false",d="true"),c.trigger(n.Event("transition.mln.child")),_.attr("aria-expanded",h),o=n(".mln__child__collapse__helper",m).outerHeight(),"show"===t&&(c.addClass("mln__has-child--showing"),i.find(".mln__has-child--showing").length&&i.hasClass("mln--navbar")&&!0===a.navbarMenuBackdrop&&e.addClass("js-mln-menu-showing"),c.hasClass("mln__has-child--mega-menu")&&i.hasClass("mln--navbar")&&!0===a.navbarMegaMenuBackdrop&&e.addClass("js-mln-mega-menu-showing"),c.trigger(n.Event("show.mln.child")),!0===s?m.addClass("mln__child--transitioning").css("height",o+"px").attr("aria-hidden",d).one(r,function(){m.css("height","auto").removeClass("mln__child--transitioning").css("height",""),"false"===m.attr("aria-hidden")&&(m.addClass("mln--height-auto"),m.addClass("mln__child--overflow-visible")),c.trigger(n.Event("shown.mln.child")).trigger(n.Event("transitioned.mln.child"))}):(m.css("height","auto").addClass("mln--height-auto").attr("aria-hidden",d).css("height","").addClass("mln__child--overflow-visible"),c.trigger(n.Event("shown.mln.child")).trigger(n.Event("transitioned.mln.child")))),"hide"===t&&(c.removeClass("mln__has-child--showing"),!n(".mln--navbar").find(".mln__has-child--showing").length&&n(".mln--navbar").length&&e.removeClass("js-mln-menu-showing"),c.hasClass("mln__has-child--mega-menu")&&!n(".mln__has-child--mega-menu").hasClass("mln__has-child--showing")&&i.hasClass("mln--navbar")&&e.removeClass("js-mln-mega-menu-showing"),c.trigger(n.Event("hide.mln.child")),!0===s?(m.css({height:o,"min-height":o}).removeClass("mln__child--overflow-visible mln--height-auto").attr("aria-hidden",d).addClass("mln__child--transitioning"),setTimeout(function(){m.css({height:"","min-height":""}).one(r,function(){m.removeClass("mln__child--transitioning"),c.trigger(n.Event("hidden.mln.child")).trigger(n.Event("transitioned.mln.child"))}).children().on(r,function(){return!1})},30)):(m.removeClass("mln__child--overflow-visible mln--height-auto").attr("aria-hidden",d).css("height",""),c.trigger(n.Event("hidden.mln.child")).trigger(n.Event("transitioned.mln.child"))))}function _(e){var l=0,t=n(".mln__expander__helper",i);!1!==e&&(l=t.outerHeight(),o.hasClass("mln__expander--showing")?(o.trigger(n.Event("hiding.mln.expander")),o.addClass("mln__expander--transitioning").css("height",l).attr("aria-hidden","true").parent().find(".mln__expand-btn").attr("aria-expanded","false"),setTimeout(function(){o.removeClass("mln__expander--showing").css("height","")},10),o.one(r,function(){n(this).removeClass("mln__expander--transitioning"),o.trigger(n.Event("hidden.mln.expander"))}).children().on(r,function(){return!1})):(o.trigger(n.Event("showing.mln.expander")),o.addClass("mln__expander--transitioning").css("height",l).attr("aria-hidden","false").parent().find(".mln__expand-btn").attr("aria-expanded","true"),o.one(r,function(){n(this).css("height","auto").css("height","").addClass("mln__expander--showing").removeClass("mln__expander--transitioning"),o.trigger(n.Event("shown.mln.expander"))}).children().on(r,function(){return!1}))),!1===e&&i.closest(".mln--navbar").length&&(mlnViewport().width<h?o.removeClass("mln__expander--showing").attr("aria-hidden","true").parent().find(".mln__expand-btn").attr("aria-expanded","false"):o.attr("aria-hidden","false").parent().find(".mln__expand-btn").attr("aria-expanded","true")),!1===e&&i.hasClass("mln--expand-above-breakpoint")&&(mlnViewport().width<h?o.removeClass("mln__expander--showing").attr("aria-hidden","true").parent().find(".mln__expand-btn").attr("aria-expanded","false"):o.addClass("mln__expander--showing").attr("aria-hidden","false").parent().find(".mln__expand-btn").attr("aria-expanded","true"))}function m(){!0===a.autoDirection&&setTimeout(function(){v.each(function(){var l=n(this);l.offset().left-e.offset().left+2*l.outerWidth()>mlnViewport().width&&mlnViewport().width>=h?l.addClass("mln__child--flow-right"):l.removeClass("mln__child--flow-right")})},300)}function g(){if(!0===a.expandActiveItem){var l=a.activeSelector;if(n(l,s).each(function(){n(this).addClass("mln__has-child--expand-on-load").parents(".mln__has-child").last().addClass("mln__has-child--expand-on-load").end().parents(".mln__has-child.mln__has-child").addClass("mln__has-child--expand-on-load")}),n(".mln__has-child--expand-on-load",s).each(function(){(!d||s.closest(i).hasClass("mln--navbar")&&mlnViewport().width<h&&!d)&&c(n(this),"show",!1),s.closest(i).hasClass("mln--navbar")&&mlnViewport().width>=h&&c(n(this),"hide",!1)}),!0===a.offCanvasScrollToActiveItem){var t=i.find(a.activeSelector).last();if(t.length){var o=t.position().top;n("#offCanvasArea").animate({scrollTop:o},1)}setTimeout(function(){e.addClass("js-off-canvas-scrolled")},2)}d=!0}}if(a=n.extend({hoverIntent:!1,hoverIntentTimeout:250,autoCloseNavbarMenus:!0,autoDirection:!0,toggleOnClickOnly:!1,expandActiveItem:!1,offCanvasScrollToActiveItem:!1,wholeLinkToggler:!1,topLevelWholeLinkToggler:!1,navbarMenuBackdrop:!1,navbarMegaMenuBackdrop:!1,activeSelector:".active",menuCloseOnInPageAnchorClick:!1,expanderCloseOnInPageAnchorClick:!1,autoCloseInactiveMenu:!0,excludeLevel:"-1",childMenuTogglerSymbol:'<span class="mln__toggle-btn__chevron"></span>',keepMenuOpenOnFocusOut:!1},t),s.length){o.wrapInner('<div class="mln__expander__helper"></div>'),n(".mln__expand-btn",i).on("click",function(){_()}),n("li:not(.mln__child__mega-menu li)",s).each(function(){var e=n(this),l="mln__level-"+(e.parents("li").length+1);e.addClass(l)}),s.find(".mln__child__mega-menu").wrap('<div class="mln__child__collapse" tabindex="-1"></div>').wrap('<div class="mln__child__collapse__helper"></div>').closest("li").addClass("mln__has-child"),!0!==a.navbarMegaMenuBackdrop||n(".mln-backdrop").length||e.append('<div class="mln-backdrop"></div>'),s.find("ul").not(".mln__level-"+a.excludeLevel+" > ul").not(".mln__level-"+a.excludeLevel+" > ul ul").each(function(){var e=n(this);if(e.siblings(".mln__child__collapse").length){var l=e.parent().find(".mln__child__collapse__helper");e.addClass("mln__child__list").prependTo(l)}else e.closest(".mln__child__mega-menu").length||e.addClass("mln__child__list").wrap('<div class="mln__child__collapse" tabindex="-1"></div>').wrap('<div class="mln__child__collapse__helper"></div>').closest("li").addClass("mln__has-child")}),n(".mln__child__mega-menu",s).each(function(){n(this).closest("li").addClass("mln__has-child--mega-menu")});var u,v=n(".mln__has-child",s);if(v.each(function(){n(this).find("> a").wrap('<div class="mln__child-controls"></div>')}),n(".mln__child-controls",s).each(function(){var e=n(this),l="Toggle items under "+e.find("> a").text();n("<button></button>").addClass("mln__toggle-btn").attr("type","button").attr("aria-label",l).html(a.childMenuTogglerSymbol).appendTo(e)}),n(".mln__child__collapse",s).each(function(e){var l="mln"+mlnCurrent+"ChildCollapse"+(e+1);n(this).attr("aria-hidden","true").attr("data-mln-active-status","off").attr("id",l).parent().find(".mln__toggle-btn").attr("aria-expanded","false").attr("aria-controls",l)}),o.each(function(e){var l="mln"+mlnCurrent+"Expander"+(e+1);n(this).attr("aria-hidden","true").attr("id",l).parent().find(".mln__expand-btn").attr("aria-expanded","false").attr("aria-controls",l)}),!0===a.menuCloseOnInPageAnchorClick&&n("a",i).each(function(){var e=n(this),l="#"===e.attr("href").charAt(0);e.on("click",function(e){l&&!n(e.target).closest(".mln__toggle-link").length&&mlnViewport().width>=h&&c(n(".mln__has-child--showing",i),"hide",!0)})}),!0===a.expanderCloseOnInPageAnchorClick&&n("a",i).each(function(){var e=n(this),l="#"===e.attr("href").charAt(0);e.on("click",function(e){l&&!n(e.target).closest(".mln__toggle-link").length&&_("hide")})}),!0===a.wholeLinkToggler||!0===a.topLevelWholeLinkToggler)!0===a.wholeLinkToggler&&(u=n(".mln__child-controls > a",s),n(s).closest(i).addClass("mln--whole-link-expand")),!0===a.topLevelWholeLinkToggler&&(u=n("> .mln__has-child",s).find("> .mln__child-controls > a")||n("> .mln__has-child",s).siblings(".mln__has-child").find("> .mln__child-controls > a"),n(s).closest(i).removeClass("mln--whole-link-expand").addClass("mln--top-level-whole-link-expand")),u.each(function(){var e=n(this),l=e.closest(".mln__has-child").find(".mln__toggle-btn").first(),t=l.attr("aria-expanded"),i=l.attr("aria-controls");n("<span></span>").addClass("mln__toggle-indicator").html(a.childMenuTogglerSymbol).appendTo(e),e.addClass("mln__toggle-link").attr("role","button").attr("aria-expanded",t).attr("aria-controls",i).on("click",function(n){e.focus(),n.preventDefault()}),l.remove()});var f=n(".mln__toggle-btn, .mln__toggle-link",s),p=!1;f.on("touchmove",function(){p=!0}).on("touchend click",function(e){e.stopPropagation(),e.preventDefault();var l=n(this),t=l.closest(".mln__has-child"),s=l.closest(t).find(".mln__child__collapse").first(),o=t.parent().find(".mln__has-child--showing").not(t);"click"!==e.type&&("touchend"!==e.type||p||i.find(".mln__has-child--showing.mln__child--transitioning").length)||(mlnViewport().width>=h&&!0===a.autoCloseNavbarMenus&&!l.closest(i).hasClass("mln--expand-above-breakpoint")&&l.closest(i).hasClass("mln--navbar")&&(s.attr("data-mln-active-status","off"),c(o,"hide",!0)),l.closest(".mln__has-child").hasClass("mln__has-child--showing")?(c(l,"hide",!0),s.attr("data-mln-active-status","off")):(c(l,"show",!0),s.attr("data-mln-active-status","on"))),p=!1}),!0===a.hoverIntent&&!1===a.toggleOnClickOnly?v.each(function(){var e=n(this),l=e.find(".mln__child__collapse").first();e.hoverIntent({over:function(){l.attr("data-mln-active-status","on"),mlnViewport().width>=h&&e.closest(".mln--navbar").length&&c(e,"show",!0)},timeout:a.hoverIntentTimeout,out:function(){l.attr("data-mln-active-status","off"),mlnViewport().width>=h&&"false"===l.attr("aria-hidden")&&e.closest(".mln--navbar").length&&c(e,"hide",!0)},delay:a.hoverIntentTimeout})}):!1===a.toggleOnClickOnly&&v.each(function(){var e=n(this),l=e.find(".mln__child__collapse").first();e.hover(function(){mlnViewport().width>=h&&e.closest(".mln--navbar").length&&(n(this).closest(".mln__has-child").hasClass("mln__has-child--showing")?(l.attr("data-mln-active-status","off"),c(n(this),"hide",!0)):(l.attr("data-mln-active-status","on"),c(n(this),"show",!0)))})}),s.each(function(){var e=n(this);e.on("keydown",function(e){var l=e.keyCode,t=n(e.target);if(27===l){var a=t.closest(".mln__has-child--showing");a.length&&(a.closest(".mln__has-child").find(".mln__toggle-btn, .mln__toggle-link").get(0).focus(),c(a,"hide",!0))}if(9===l&&"false"===t.attr("aria-expanded")&&t.parent().siblings(".mln__child__collapse").hasClass("mln__child--transitioning")){var s=t.closest(".mln__has-child").next().find("a").first();s.length||(s=t.closest(".mln__level-1").next().find("a").first(),n(".mln__has-child--showing",i).each(function(){c(n(this),"hide",!0)})),e.preventDefault(),s.focus()}}),e.on("keyup",function(e){var l=n(e.target);!l.closest(".mln__has-child--showing").length&&mlnViewport().width>=h&&!0===a.autoCloseInactiveMenu&&l.closest(".mln--navbar").length&&n(".mln__has-child--showing",i).each(function(){c(n(this),"hide",!0)})}),a.keepMenuOpenOnFocusOut||e.on("focusout",function(e){setTimeout(function(){if(mlnViewport().width>=h){var l=n(".mln--navbar:not(:has(:focus))");n(".mln__has-child--showing",l).each(function(){c(n(this),"hide",!0)})}!1===!(!n(document.activeElement).closest(".mln--navbar").length||!n(document.activeElement).closest(".mln__list").length)&&mlnViewport().width>=h&&"keydown"!==e.type&&!0===a.autoCloseNavbarMenus&&n(e.target).closest(".mln--navbar").length&&!n(e.target).closest(".mln__has-child--showing").length&&c(n(".mln__has-child--showing",i),"hide",!0)},150)})}),i.on("transition.mln.child",function(){i.find(".mln__visible-menu").removeClass("mln__visible-menu")}).on("hide.mln.child show.mln.child initialized.mln",function(){i.find(".mln__has-child--showing").length?i.find(".mln__has-child--showing").last().addClass("mln__visible-menu"):i.find(".mln__list").addClass("mln__visible-menu")}),l.on("mlnResizeEnd",function(){mlnViewport().width>=h&&!0===a.autoCloseNavbarMenus&&!1===a.expandActiveItem&&(c(n(".mln__has-child--showing",i),"hide",!1),o.css("height","").removeClass("mln__expander--showing")),g(),_(!1),m()}),g(),_(!1),m(),i.addClass("mln--js-loaded")}i.trigger(n.Event("initialized.mln")),mlnCurrent++})}}(jQuery);
//# sourceMappingURL=multilevel-nav.min.js.map