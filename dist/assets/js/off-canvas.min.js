var $document=$(document),$window=$(window),windowWidth=$window.width();$window.resize(function(){var n=$window.width();windowWidth!==n&&(this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("ocResizeEnd")},150)),windowWidth=n}),function(n){"use strict";var i,e,s=n("body"),a=n(".toggle-off-canvas"),t=n(".l-off-canvas"),o=n(".l-header"),d=(n(".l-off-canvas-overlay"),n(".l-canvas")),r=o.outerHeight(),f=0,c=0,h=s.attr("data-off-canvas-breakpoint"),l=function(){return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(s.addClass("is-ios"),!0)},u=function(e){f=$document.scrollTop(),s.hasClass("js-off-canvas-showing")||"undefined"===e||"hide"===e?($document.trigger(n.Event("hide.offCanvas")),s.removeClass("js-off-canvas-showing"),l()&&s.hasClass("has-header-fixed")&&(d.css("top",""),s.animate({scrollTop:c},0)),n(".slide-over-transition").first().one("transitionend webkitTransitionEnd oTransitionEnd",function(){s.hasClass("js-off-canvas-showing")||t.addClass("js-l-off-canvas-hide"),$document.trigger(n.Event("hidden.offCanvas"))}).children().on("transitionend webkitTransitionEnd oTransitionEnd",function(){return!1}),a.each(function(){n(this).attr("aria-expanded","false")}),i.focus()):s.hasClass("js-off-canvas-showing")&&"show"!==e||($document.trigger(n.Event("show.offCanvas")),t.removeClass("js-l-off-canvas-hide"),l()&&s.hasClass("has-header-fixed")&&d.css("top",-(f-r)),s.addClass("js-off-canvas-showing"),c=f,a.each(function(){n(this).attr("aria-expanded","true")}),n(".slide-over-transition").first().one("transitionend webkitTransitionEnd oTransitionEnd",function(){!function(){i=n(":focus");var e=t.find('a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[tabindex="0"],[contenteditable]'),s=e.first(),a=e.last();n(".mln__list .active").last().length||s.focus(),t.on("keydown",function(i){var e=n(this).find(".mln__child--transitioning").length;27!==i.keyCode||e||(i.preventDefault(),u("hide"))}),a.on("keydown",function(n){9!==n.which||n.shiftKey||(n.preventDefault(),s.focus())}),s.on("keydown",function(n){9===n.which&&n.shiftKey&&(n.preventDefault(),a.focus())}),t.focus()}(),$document.trigger(n.Event("shown.offCanvas"))}).children().on("transitionend webkitTransitionEnd oTransitionEnd",function(){return!1}))},v=function(){if(!s.hasClass("has-header-fixed")){var i,e=n(".l-off-canvas__helper").outerHeight(),a=n(".l-surround").outerHeight();i=e>=a?e:a,setTimeout(function(){var n,e;(n=window,e="inner","innerWidth"in window||(e="client",n=document.documentElement||document.body),{width:n[e+"Width"],height:n[e+"Height"]}).width<h?t.css("min-height",i):t.css("min-height","")},300)}};n("<div></div>").addClass("l-off-canvas-overlay").prependTo(".l-surround"),s.on("touchstart",function(n){e=n.originalEvent.touches[0].clientX}),s.on("touchmove",function(n){var i=n.originalEvent.changedTouches[0].clientX;e-200>i&&s.hasClass("js-off-canvas-showing")&&!s.hasClass("off-canvas-right")?u():e+200<i&&s.hasClass("js-off-canvas-showing")&&s.hasClass("off-canvas-right")&&u()}),n(".toggle-off-canvas, .l-off-canvas-overlay").on("click",function(){u()}),n(window).on("load",function(){v(),t.addClass("js-l-off-canvas-hide").append('<span class="js-tabfix" tabindex="0" aria-hidden="true"></span>')}),n(window).on("ocResizeEnd",function(){v()})}(jQuery);
//# sourceMappingURL=off-canvas.min.js.map