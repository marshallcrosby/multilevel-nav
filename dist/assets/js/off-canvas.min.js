!function(n){"use strict";var e,i,s=n(document),a=n(window),t=n("body"),o=n(".toggle-off-canvas"),r=n(".l-off-canvas"),d=n(".l-header"),f=n(".l-canvas"),c=d.outerHeight(),h=0,l=0,u=t.attr("data-off-canvas-breakpoint"),v=a.width();a.on("resize",function(){var e=a.width();v!==e&&(this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){n(this).trigger("ocResizeEnd")},150)),v=e});function g(n){return navigator.userAgent.toLowerCase().search(n.toLowerCase())>-1}function w(){return(!!window.ApplePaySetupFeature||!!window.safari)&&g("Safari")&&!g("Chrome")&&!g("CriOS")}w()&&t.addClass("is-ios");var C=function(i){h=s.scrollTop(),t.hasClass("js-off-canvas-showing")||"undefined"===i||"hide"===i?(s.trigger(n.Event("hide.offCanvas")),t.removeClass("js-off-canvas-showing"),w()&&t.hasClass("has-header-fixed")&&(f.css("top",""),n("html, body").css("scroll-behavior","auto").animate({scrollTop:l},0).css("scroll-behavior","")),n(".slide-over-transition").first().one("transitionend webkitTransitionEnd oTransitionEnd",function(){t.hasClass("js-off-canvas-showing")||r.addClass("js-l-off-canvas-hide"),s.trigger(n.Event("hidden.offCanvas"))}).children().on("transitionend webkitTransitionEnd oTransitionEnd",function(){return!1}),o.each(function(){n(this).attr("aria-expanded","false")}),e.trigger("focus")):t.hasClass("js-off-canvas-showing")&&"show"!==i||(s.trigger(n.Event("show.offCanvas")),r.removeClass("js-l-off-canvas-hide"),w()&&t.hasClass("has-header-fixed")&&f.css("top",-(h-c)),t.addClass("js-off-canvas-showing"),l=h,o.each(function(){n(this).attr("aria-expanded","true")}),n(".slide-over-transition").first().one("transitionend webkitTransitionEnd oTransitionEnd",function(){!function(){e=n(":focus");var i=r.find('a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[tabindex="0"],[contenteditable]'),s=i.first(),a=i.last();n(".mln__list .active").last().length||s.trigger("focus"),r.on("keydown",function(e){var i=n(this).find(".mln__child--transitioning").length;"Escape"!==e.key||i||(e.preventDefault(),C("hide"))}),a.on("keydown",function(n){"Tab"!==n.key||n.shiftKey||(n.preventDefault(),s.trigger("focus"))}),s.on("keydown",function(n){"Tab"===n.key&&n.shiftKey&&(n.preventDefault(),a.trigger("focus"))}),r.trigger("focus")}(),s.trigger(n.Event("shown.offCanvas"))}).children().on("transitionend webkitTransitionEnd oTransitionEnd",function(){return!1}))},b=function(){if(!t.hasClass("has-header-fixed")){var e,i=n(".l-off-canvas__helper").outerHeight(),s=n(".l-surround").outerHeight();e=i>=s?i:s,setTimeout(function(){var n,i;(n=window,i="inner","innerWidth"in window||(i="client",n=document.documentElement||document.body),{width:n[i+"Width"],height:n[i+"Height"]}).width<u?r.css("min-height",e):r.css("min-height","")},300)}};n("<div></div>").addClass("l-off-canvas-overlay").prependTo(".l-surround"),t.on("touchstart",function(n){i=n.originalEvent.touches[0].clientX}),t.on("touchmove",function(n){var e=n.originalEvent.changedTouches[0].clientX;i-200>e&&t.hasClass("js-off-canvas-showing")&&!t.hasClass("off-canvas-right")?C():i+200<e&&t.hasClass("js-off-canvas-showing")&&t.hasClass("off-canvas-right")&&C()}),n(".toggle-off-canvas, .l-off-canvas-overlay").on("click",function(){C()}),n(window).on("load",function(){b(),r.addClass("js-l-off-canvas-hide").append('<span class="js-tabfix" tabindex="0" aria-hidden="true"></span>')}),n(window).on("ocResizeEnd",function(){b()})}(jQuery);
//# sourceMappingURL=off-canvas.min.js.map